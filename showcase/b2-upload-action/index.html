<!doctype html><html lang=en-gb><head><title>Backblaze B2 Upload File GitHub Action | Matt Copperwaite</title><meta charset=utf-8><meta name=language content="en"><meta name=description content="A GitHub Action to upload files to a Backblaze B2 bucket"><meta name=keywords content><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><link rel="shortcut icon" type=image/png href=/favicon.ico><link type=text/css rel=stylesheet href=/css/post.min.2cb93c91050d1853bf971cc31e00122edd6e0f405aa1de3b7f8ef67ea3b5a79a.css integrity="sha256-LLk8kQUNGFO/lxzDHgASLt1uD0Baod47f472fqO1p5o="><link type=text/css rel=stylesheet href=/css/custom.min.c7d0618bf3996aafcc1b82eb3ddfb053c4c06ca40ecfab6006545026401023c8.css integrity="sha256-x9Bhi/OZaq/MG4LrPd+wU8TAbKQOz6tgBlRQJkAQI8g="><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/matt.copperwaite.net\/showcase\/b2-upload-action\/","name":"Backblaze B2 Upload File GitHub Action","author":{"@type":"Person","name":""},"description":"A GitHub Action to upload files to a Backblaze B2 bucket"}</script></head><body><div class=burger__container><div class=burger aria-controls=navigation aria-label=Menu><div class="burger__meat burger__meat--1"></div><div class="burger__meat burger__meat--2"></div><div class="burger__meat burger__meat--3"></div></div></div><nav class=nav id=navigation><ul class=nav__list><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=/showcase/>Showcase</a></li><li><a href=/about-me/>About Me</a></li></ul></nav><main><div class=flex-wrapper><div class=post__container><div class=post><header class=post__header><h1 id=post__title>Backblaze B2 Upload File GitHub Action</h1><time datetime="2021-07-28 18:50:32 +0100 +0100" class=post__date>Jul 28 2021</time></header><article class=post__content><p><a href=https://github.com/yamatt/backblaze-b2-upload-action>I started this project</a> because I had another project that needed to upload files straight to Backblaze B2 object storage. I guess you could instead use the S3 GitHub Action and point it at your Backblaze bucket, but I guess I forgot and figured I could solve it natively.</p><p>I forked <a href=https://github.com/wilsonzlin/setup-b2>Wilson&rsquo;s B2-setup Action</a>, figuring I could apply another layer to then upload the file based on arguments to save a bunch of effort because Wilson had already figured out how to get the B2 CLI working on all OS available in GitHub Actions. I ran in to a few problems however.</p><p>One was that Wilson&rsquo;s B2-setup action does not have a license. Meaning it was copyrighted and I had concerns about extending the code base. I almost started again and built my action using Docker but I still worked in the fork, which looks weird if you look at the commit history</p><p>The other issue was I had difficulties getting the input arguments to work and the project needed npm dependencies built in to the package and it was all starting to get complicated. Which is when I decided to use the <a href=https://github.com/enflo/curl-action>cURL Action</a> as inspiration switch to Docker.</p><p>I suspect Docker runs are slower as it looks like it builds the docker image before running, it also only runs on the Linux images, but it works, so that&rsquo;s what I&rsquo;ve got for now.</p><p>I released a V4 based upon the release cycle from Wilson&rsquo;s code, but then when adding the action to the marketplace I had to create a new release as I couldn&rsquo;t work out how to delete the v4 tag in the GitHub interface. So for no reason v4 isn&rsquo;t used and v5, which is identical is the published version.</p><p>I am very pleased with the icon.</p><p>I licenced this one under AGPLv3, unlike my <a href=https://matt.copperwaite.net/showcase/scaleway-serverless-action/>other GitHub action</a>. I was reminded of the purpose of AGPLv3 and in the case of an Action I would expect it only mattered if someone changed this action for some reason.</p></article><div class=pagination><a class=pagination__item href=https://matt.copperwaite.net/showcase/scaleway-serverless-action/><span class=pagination__label>Previous Post</span>
<span class=pagination__title>Scaleway Serverless Container Deploy GitHub Action</span></a></div><footer class=post__footer><div class=social-icons><a class=social-icons__link title=GitHub href=https://github.com/yaMatt target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https://matt.copperwaite.net/svg/github.svg)></div></a><a class=social-icons__link title=LinkedIn href=https://www.linkedin.com/in/matthew-copperwaite-44319b26 target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https://matt.copperwaite.net/svg/linkedin.svg)></div></a><a class=social-icons__link title=Keybase href=https://keybase.io/mattcopp target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https://matt.copperwaite.net/svg/keybase.svg)></div></a><a class=social-icons__link title=StackOverflow href=https://meta.stackoverflow.com/users/421159/matt-copperwaite target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https://matt.copperwaite.net/svg/stackoverflow.svg)></div></a><a class=social-icons__link title=Steam href=https://steamcommunity.com/id/yaMatt/home/ target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https://matt.copperwaite.net/svg/steam.svg)></div></a></div><p>CC BY-SA 4.0</p></footer></div></div></div></main><script src=/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr+kQ=" crossorigin=anonymous></script><script src=https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js></script><script src=https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js data-autoloader-path=https://unpkg.com/prismjs@1.20.0/components/></script></body></html>